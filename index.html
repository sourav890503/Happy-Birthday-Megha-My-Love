<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday My Dear Megha</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <style>
        /* --- FONTS --- */
        @import url('https://fonts.googleapis.com/css2?family=Coiny&family=Titan+One&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Nerko+One&family=Sriracha&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');

        /* --- RESET & VARIABLES --- */
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }
        :root {
            --color-pink: #feecea;
            --color-white: #fff;
            --color-black: #333;
            --color-text-pink: #FF7882;
            --color-heart: #FF7882;
            --color-bg-letter: #fff8e4;
            --color-border: #DACCBF;
        }
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            background-image: linear-gradient(var(--color-pink), var(--color-pink));
            font-size: 16px;
            overflow-x: hidden; /* Prevent horizontal scroll only */
        }

        /* --- MUSIC BUTTON --- */
        .music-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: #ff4757;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            z-index: 1000;
            color: white;
            font-size: 20px;
            transition: all 0.3s ease;
        }
        .music-control:hover {
            transform: scale(1.1);
            background: #ff6b81;
        }
        .music-control.playing {
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 71, 87, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(255, 71, 87, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 71, 87, 0); }
        }

        /* --- WRAPPER & BACKGROUND --- */
        #wrapper {
            position: relative;
            background-color: transparent;
            background-image: linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, 1) 25%, rgba(255, 255, 255, 1) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, 1) 75%, rgba(255, 255, 255, 1) 76%, transparent 77%, transparent), linear-gradient(90deg, transparent 24%, rgba(255, 255, 255, 1) 25%, rgba(255, 255, 255,1) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, 1) 75%, rgba(255, 255, 255, 1) 76%, transparent 77%, transparent);
            min-height: 100vh; /* changed from height:100% to allow scroll */
            background-size: 80px 80px;
            overflow-x: hidden;
            overflow-y: auto; /* Allow scrolling on small screens */
            z-index: 1;
        }

        /* --- DECORATIONS (FLAGS) --- */
        .flag__birthday {
            display: flex;
            justify-content: space-between;
            transform: translateY(-200px);
            animation: translateYFlag 1.5s 2s forwards;
            width: 100%;
            overflow: hidden;
        }
        @keyframes translateYFlag {
            to { transform: translateY(-10px); }
        }
        .flag__birthday .flag__left { transform: rotate(-10deg) translate(-20px,30px); }
        .flag__birthday .flag__right { transform: rotate(10deg) translate(20px,30px) scaleX(-1); }

        /* --- MAIN CONTENT LAYOUT --- */
        .content {
            width: 100%;
            position: relative;
            display: flex;
            padding-top: 3rem;
            padding-bottom: 50px; /* Space for footer */
        }
        .content .left, .content .right {
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .content .left { width: 40%; }
        .content .right { width: 60%; }

        /* --- TEXT & TITLES --- */
        .title {
            position: relative;
            width: 100%;
            display: flex;
            justify-content: center;
            font-family: "Titan One", sans-serif;
            font-size: 3rem;
            flex-direction: column;
            perspective: 1000px;
            z-index: 2;
        }
        .title .happy, .title .birthday {
            position: relative;
            text-shadow: 4px 4px var(--color-black), -4px 4px var(--color-black), 4px -4px var(--color-black), -4px -4px var(--color-black), 4px 8px 0 var(--color-black);
            font-weight: bold;
            display: flex;
            justify-content: center;
            flex-wrap: wrap; /* prevents text breaking weirdly */
        }
        .title .happy { color: var(--color-white); }
        .title .birthday { color: var(--color-text-pink); }
        .title .happy span, .title .birthday span {
            transform: translateY(50px);
            opacity: 0;
            visibility: hidden;
            animation: txtTranslateY .5s var(--t) forwards;
            display: inline-block;
        }
        @keyframes txtTranslateY {
            100% { transform: translateY(0); opacity: 1; visibility: visible; }
        }

        /* --- HAT ANIMATION --- */
        .title .hat {
            position: absolute;
            right: 45px;
            top: -350px;
            transform: rotate(-40deg);
            z-index: -1;
            animation: topHat 4s 7s forwards ease;
        }
        @keyframes topHat {
            20%, 30% { top: -30px; transform-origin: left; transform: rotate(-40deg); }
            35%, 100% { top: -30px; transform: rotate(0deg); }
        }

        /* --- DATE & NAME TAGS --- */
        .date__of__birth, .name {
            display: flex;
            justify-content: space-around;
            align-items: center;
            background-color: var(--color-text-pink);
            border-radius: 50px;
            margin-top: 20px;
            font-family: "Sriracha", cursive;
        }
        .date__of__birth {
            border: 3px solid var(--color-black);
            position: relative;
            transform: translateY(-100px);
            z-index: -1;
            opacity: 0;
            visibility: hidden;
            width: 0px;
            animation: dateOfBirth 5s 9s forwards;
            white-space: nowrap;
        }
        @keyframes dateOfBirth {
            20%,40% { width: 0px; height: 0; transform: translateY(0px); opacity: 1; visibility: visible; }
            45% { transform: translateY(0px); opacity: 1; visibility: visible; width: 300px; height: 0px; }
            50%,100% { transform: translateY(0px); opacity: 1; visibility: visible; width: 300px; height: 50px; }
        }
        .name {
            position: absolute;
            padding: 0px 20px;
            bottom: -20px;
            border: 3px solid var(--color-black);
            font-family: 'Dancing Script', cursive;
            background: white;
            color: black;
            z-index: 5;
        }
        .date__of__birth span, .name span { font-weight: bold; margin: 0px 40px; }
        .date__of__birth span { font-size: 1.2rem; }
        .name span { font-size: 1.7rem; }

        /* --- BUTTONS --- */
        .left .btn {
            transform: scale(0);
            animation: scaleCricle 2s 16s forwards ease-in-out;
            margin-bottom: 20px;
        }
        #btn__letter {
            position: relative;
            margin-top: 30px;
            background-color: var(--color-text-pink);
            outline: none;
            padding: 5px 15px;
            font-size: 1rem;
            border-radius: 50px;
            border: 3px solid var(--color-black);
            font-family: "Sriracha", cursive;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 2;
            transition: all .5s ease-in-out;
        }
        #btn__letter:hover {
            border-color: var(--color-heart);
            background-color: var(--color-heart);
            color: #fff;
            box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
        }
        #btn__letter:hover i { animation: rotateHeart 1s infinite linear; }
        #btn__letter i { margin-left: 5px; }

        /* --- RIGHT SIDE IMAGE & DECOR --- */
        .right .box__account {
            position: relative;
            transform: translateY(700px);
            animation: topBoxImage 8s 7s forwards ease-in;
            margin-top: 20px;
        }
        @keyframes topBoxImage { to { transform: translateY(0); } }
        
        .content .right .image {
            position: relative;
            width: 400px;
            height: 400px;
            border-radius: 50%;
            overflow: hidden;
            display: flex;
            align-items: center;
            border: 6px solid var(--color-black);
            background: #fff;
        }
        .content .right .image img { width: 100%; height: 100%; object-fit: cover; }

        /* --- BALLOONS & CIRCLE TEXT --- */
        .cricle {
            position: absolute;
            top: 20px;
            right: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            transform: scale(0);
            animation: scaleCricle 3s 15s forwards ease-in-out;
        }
        .text__cricle {
            width: 100px;
            height: 100px;
            background-color: var(--color-text-pink);
            border-radius: 50%;
            border: 5px solid var(--color-black);
            display: flex;
            justify-content: center;
            align-items: center;
            animation: rotateCricle 5s linear infinite;
        }
        @keyframes rotateCricle { to { transform: rotate(360deg); } }
        .text__cricle span {
            position: absolute;
            left: 50%;
            transform-origin: 0 45px;
            font-family: "Sriracha", cursive;
            text-transform: uppercase;
            font-size: 0.7rem;
            color: black;
            transform: rotate(calc(var(--i) * 24deg));
        }
        .cricle .fa-heart { position: absolute; transform: scale(0.85); color: white; }
        
        .right .balloon_one { position: absolute; top: -70px; left: -70px; animation: balloon1 2s infinite linear; }
        .right .balloon_two { position: absolute; top: 170px; right: -65px; z-index: -1; animation: balloon2 2s infinite linear; }
        @keyframes balloon1 { 0%, 50%, 100% { transform: rotate(0deg); } 25% { transform: rotate(3deg); } 75% { transform: rotate(-3deg); } }
        @keyframes balloon2 { 0%, 50%, 100% { transform: rotate(10deg); } 25% { transform: rotate(7deg); } 75% { transform: rotate(13deg); } }

        /* --- STARS & FLOWERS --- */
        .decorate_star {
            position: absolute;
            transform: scale(0);
            background-color: var(--color-black);
            clip-path: polygon(0 50%, 35% 35%, 50% 0, 65% 35%, 100% 50%, 65% 65%, 50% 100%, 35% 65%);
            animation: scaleCricle 3s var(--t) forwards, scaleStar 2s 16s infinite ease-in-out;
        }
        .decorate_star.star1 { width: 20px; height: 20px; top: 75px; left: 300px; }
        .decorate_star.star2 { width: 15px; height: 20px; top: 35px; right: 360px; }
        .decorate_star.star3 { width: 14px; height: 14px; top: 290px; left: 630px; }
        .decorate_star.star4 { width: 18px; height: 18px; bottom: 60px; left: 35px; }
        .decorate_star.star5 { width: 16px; height: 18px; bottom: 140px; left: 500px; }
        @keyframes scaleCricle { 0% { transform: scale(0); } 10% { transform: scale(1.3); } 20% { transform: scale(0.7); } 30%,100% { transform: scale(1); } }
        @keyframes scaleStar { 25% { transform: scale(0.8); } 50% { transform: scale(1.1); } }
        @keyframes rotateHeart { 0%,50%, 100% { transform: rotate(0deg); } 25% { transform: rotate(12deg); } 75% { transform: rotate(-12deg); } }

        .decorate_flower--one, .decorate_flower--two, .decorate_flower--three {
            position: absolute; transform: scale(0); animation: scaleCricle 3s var(--t) forwards ease-in-out;
        }
        .decorate_flower--one { top: 250px; left: 50px; }
        .decorate_flower--two { top: 225px; left: 540px; }
        .decorate_flower--three { top: 150px; right: 235px; }
        
        .decorate_bottom { position: absolute; right: 0; bottom: -10px; }
        .smiley__icon { position: absolute; bottom: 180px; left: 600px; transform: scale(0); animation: scaleCricle 3s 15s forwards ease-in-out; }

        /* --- OVERLAY LETTER BOX (First Button) --- */
        .box__letter {
            position: fixed; top: 0; left: 0; background-color: rgba(0,0,0,.5); width: 100%; height: 100%; z-index: 10; display: none;
        }
        .box__letter .letter__border {
            position: absolute; width: 55vw; height: 450px; background-color: var(--color-white);
            border-radius: 27px; padding: 17px; box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
            top: 50%; left: 50%; transform: translate(-50%,-50%); display: none;
        }
        .letter__border .close {
            position: absolute; right: -10px; top: -10px; width: 30px; height: 30px;
            background-color: var(--color-white); border-radius: 50%; display: flex;
            justify-content: center; align-items: center; box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px; cursor: pointer;
        }
        .letter__border .letter { width: 100%; height: 100%; background-color: var(--color-bg-letter); border-radius: 10px; padding-top: 15px; overflow-y: auto;}
        .letter__border .letter .title__letter { text-align: center; font-family: 'Dancing Script', cursive; font-weight: bold; font-size: 2.4rem; }
        .letter__border .letter .content__letter { position: relative; width: 100%; display: flex; padding: 1.5rem; }
        .content__letter .left { width: 50%; height: 100%; padding: 1.7rem; border-right: 3px solid var(--color-border); position: relative; }
        .content__letter .right { width: 50%; position: relative; padding-left: 10px;}
        .content__letter .right .text__letter { margin-top: 20px; font-family: 'Dancing Script', cursive; font-size: 1.3rem; }

        /* --- MAILBOX POPUP (Second Button/Card) --- */
        .boxMail {
            position: fixed; background: rgb(0, 0, 0, 0.8); width: 100%; height: 100%;
            opacity: 0; top: 0; display: flex; justify-content: center; align-items: center;
            transform: scale(0.3); visibility: hidden; transition: all 0.5s; z-index: 100000000;
        }
        .boxMail.active { opacity: 1; visibility: visible; transform: scale(1); }
        .boxMail .fa-xmark {
            position: absolute; top: 20px; right: 20px; font-size: 30px; padding: 10px; cursor: pointer; color: white; z-index: 1001;
        }
        
        /* The container for the flip effect */
        .boxMail .boxMail-container {
            position: relative;
            width: 750px;
            height: 500px;
            display: flex;
            margin: 0;
            transform: scale(0.9);
            perspective: 2000px;
            transition: all 0.5s;
        }
        /* Desktop Hover Effect */
        .boxMail .boxMail-container:hover { transform: rotate(-5deg); filter: drop-shadow(0 0 10px #FF7882); }
        .boxMail .boxMail-container:hover .card1 { transform: translate(-187px, -250px) rotateY(-140deg); }
        .boxMail .boxMail-container:hover .card2 .card2-content { transform: translate(20px, 20px); box-shadow: -1px -1px 5px rgb(0, 0, 0, 0.4); }

        .boxMail .boxMail-container .card1, .boxMail .boxMail-container .card2 {
            position: absolute; width: 100%; height: 100%; top: 50%; left: 50%; transform: translate(-50%, -50%); border: 1px solid black;
        }

        /* Card 1 - The Flap */
        .boxMail .boxMail-container .card1 {
            width: 50%; height: 100%; background: linear-gradient(to right, #FF7882, #FF7882 63%);
            color: white; display: flex; justify-content: center; align-items: center; flex-direction: column;
            z-index: 1; transform-style: preserve-3d; transform-origin: left; transition: all 1s ease-in-out;
        }
        .boxMail .boxMail-container .card1 .userImg {
            width: 80px; height: 80px; background-color: white; border-radius: 50%; overflow: hidden; border: 2px solid white; margin-bottom: 20px;
        }
        .boxMail .boxMail-container .card1 .userImg img { width: 100%; height: 100%; object-fit: cover; }
        .boxMail .boxMail-container .card1 h3 {
            font-family: 'Dancing Script', cursive; font-size: 40px; text-transform: uppercase;
            width: 80%; text-align: center; letter-spacing: 5px; transform: rotate(-5deg); text-shadow: 0 0 5px white;
        }

        /* Card 2 - The Message */
        .boxMail .boxMail-container .card2 {
            width: 50%; height: 100%; background: linear-gradient(to right, #e0e0e0, #ffffff 30%);
            transform-style: preserve-3d; transform-origin: left; transition: all 1s;
        }
        .boxMail .boxMail-container .card2 .card2-content {
            width: 100%; height: 100%; position: relative; background-color: #FF7882; transition: all 1s; overflow: hidden; font-family: "Inter", serif; color: #fff;
        }
        .boxMail .boxMail-container .card2 h3 {
            font-family: 'Dancing Script', cursive; padding: 20px; font-size: 25px; opacity: 0; transition: 1s;
        }
        .boxMail .boxMail-container .card2:hover h3 { opacity: 1; padding-left: 40px; }
        .boxMail .boxMail-container .card2 h2 {
            font-family: 'Dancing Script', cursive; padding: 0 20px; font-size: 18px; line-height: 1.5; opacity: 0; transition: 1s;
        }
        .boxMail .boxMail-container .card2:hover h2 { opacity: 1; transition-delay: 0.5s; }

        /* =========================================
           RESPONSIVE / MOBILE CSS
           ========================================= */
        @media screen and (max-width: 900px) {
            /* General Structure */
            .content { flex-direction: column; gap: 30px; padding-top: 5rem; }
            .content .left, .content .right { width: 100%; }
            
            /* Text & Titles */
            .title { font-size: 1.8rem; letter-spacing: 2px; }
            .title .hat { top: -60px !important; right: 20px; transform: rotate(-40deg) scale(0.7); }
            
            /* Date & Name */
            .date__of__birth { transform: translateY(0); margin-top: 10px; }
            @keyframes dateOfBirth {
                to { width: 260px; height: 50px; opacity: 1; visibility: visible; }
            }
            .date__of__birth span { font-size: 1rem; margin: 0 10px; }
            
            /* Image Area */
            .content .right .image { width: 250px; height: 250px; border-width: 4px; }
            .right .box__account { transform: translateY(0); animation: none; margin-top: 30px;}
            
            /* Decor Positioning */
            .flag__birthday .flag__left { transform: rotate(-10deg) translate(-50px, 10px) scale(0.6); }
            .flag__birthday .flag__right { transform: rotate(10deg) translate(50px, 10px) scaleX(-1) scale(0.6); }
            
            .right .balloon_one { top: -50px; left: -20px; transform: scale(0.6); }
            .right .balloon_two { top: 100px; right: -20px; transform: scale(0.6); }
            .smiley__icon { left: auto; right: 20px; bottom: 100px; transform: scale(0.6); }
            .cricle { right: -20px; top: -20px; transform: scale(0.7) !important; animation: none; opacity: 1;}
            
            /* Hide distracting absolute elements on very small screens if needed */
            .decorate_star, .decorate_flower--one, .decorate_flower--two, .decorate_flower--three { display: none; }

            /* --- FIXING THE FIRST LETTER POPUP --- */
            .box__letter .letter__border { width: 90vw; height: auto; max-height: 80vh; padding: 10px; }
            .letter__border .letter .content__letter { flex-direction: column; padding: 10px; }
            .content__letter .left, .content__letter .right { width: 100%; border: none; padding: 5px; }
            .content__letter .right .text__letter { font-size: 1rem; margin-top: 0; }
            .title__letter { font-size: 1.8rem !important; }

            /* --- FIXING THE MAILBOX POPUP (The 3D Card) --- */
            .boxMail .boxMail-container {
                width: 90vw; /* Fit screen width */
                height: 50vh; /* Fit screen height */
                min-height: 400px; /* Minimum height for text */
            }
            
            /* Adjust fonts inside the mail card for mobile */
            .boxMail .boxMail-container .card1 h3 { font-size: 24px; }
            .boxMail .boxMail-container .card2 h2 { font-size: 14px; padding: 0 10px; }
            .boxMail .boxMail-container .card2 h3 { font-size: 18px; padding: 10px; }
            
            /* Trigger hover effect on click/active for mobile by force if needed, 
               but typically :hover works on tap on mobile. 
               We make sure the text is visible even if animation glitches */
            .boxMail .boxMail-container .card2 h2, 
            .boxMail .boxMail-container .card2 h3 { opacity: 1; visibility: visible; } 
            
            .boxMail .boxMail-container:hover .card1 {
                /* Reduced rotation for mobile to prevent overflow */
                transform: translate(-50%, -50%) rotateY(-180deg); 
                opacity: 0; /* Hide front on open */
            }
            .boxMail .boxMail-container:hover .card2 {
                z-index: 10;
                width: 100%;
            }
            /* On mobile, we might want to stack them or simply scale the whole container.
               The simplest way to keep the 3D effect without breaking layout is scaling the wrapper. */
        }

        /* Very small screens (Galaxy Fold, SE) */
        @media screen and (max-width: 380px) {
            .title { font-size: 1.4rem; }
            .content .right .image { width: 200px; height: 200px; }
            .boxMail .boxMail-container .card2 h2 { font-size: 12px; }
        }
    </style>
</head>

<body>

    <audio id="bgMusic" loop>
        <source src="Megha1.mp3" type="audio/mp3">
    </audio>

    <div class="music-control" id="musicBtn">
        <i class="fa-solid fa-music"></i>
    </div>

    <div id="wrapper">
        <div class="flag__birthday">
            <img src="./images/1.png" alt="" width="350" class="flag__left">
            <img src="./images/1.png" alt="" width="350" class="flag__right">
        </div>
        <div class="content">
            <div class="left">
                <div class="title">
                    <h1 class="happy">
                        <span style="--t: 4s;">H</span>
                        <span style="--t: 4.2s;">a</span>
                        <span style="--t: 4.4s;">p</span>
                        <span style="--t: 4.6s;">p</span>
                        <span style="--t: 4.8s;">y</span>
                    </h1>
                    <h1 class="birthday">
                        <span style="--t: 5s;">B</span>
                        <span style="--t: 5.2s;">i</span>
                        <span style="--t: 5.4s;">r</span>
                        <span style="--t: 5.6s;">t</span>
                        <span style="--t: 5.8s;">h</span>
                        <span style="--t: 6s;">d</span>
                        <span style="--t: 6.2s;">a</span>
                        <span style="--t: 6.4s;">y</span>
                    </h1>
                    <div class="hat">
                        <img src="./images/hat.png" alt="" width="130">
                    </div>
                </div>
                
                <div class="date__of__birth">
                    <span></span>
                </div>
                
                <div class="btn">
                    <button id="btn__letter">
                        <div class="mail">
                            Click Here Megha
                            <i class="fa-regular fa-envelope"></i>
                        </div>
                    </button>
                </div>
            </div>
            
            <div class="right">
                <div class="box__account">
                    <div class="image">
                        <img src="./images/unnamed.jpeg" alt="">
                    </div>
                    <div class="name">
                        <i class="fa-solid fa-heart"></i>
                        <span>Dear Megha</span>
                        <i class="fa-solid fa-heart"></i>
                    </div>
                    <div class="balloon_one">
                        <img width="100px" src="./images/balloon1.png" alt="">
                    </div>
                    <div class="balloon_two">
                        <img width="100px" src="./images/balloon2.png" alt="">
                    </div>
                </div>
                <div class="cricle">
                    <div class="text__cricle">
                        <span style="--i: 1;">h</span>
                        <span style="--i: 2;">a</span>
                        <span style="--i: 3;">p</span>
                        <span style="--i: 4;">p</span>
                        <span style="--i: 5;">y</span>
                        <span style="--i: 6;">-</span>
                        <span style="--i: 7;">b</span>
                        <span style="--i: 8;">i</span>
                        <span style="--i: 9;">r</span>
                        <span style="--i: 10;">t</span>
                        <span style="--i: 11;">h</span>
                        <span style="--i: 12;">d</span>
                        <span style="--i: 13;">a</span>
                        <span style="--i: 14;">y</span>
                        <span style="--i: 15;">-</span>
                    </div>
                    <i class="fa-solid fa-heart"></i>
                </div>
            </div>
        </div>

        <div class="decorate_star star1" style="--t: 15s;"></div>
        <div class="decorate_star star2" style="--t: 15.2s;"></div>
        <div class="decorate_star star3" style="--t: 15.4s;"></div>
        <div class="decorate_star star4" style="--t: 15.6s;"></div>
        <div class="decorate_star star5" style="--t: 15.8s;"></div>
        <div class="decorate_flower--one" style="--t: 15s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--two" style="--t: 15.3s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--three" style="--t: 15.6s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_bottom">
            <img src="./images/decorate.png" alt="" width="100">
        </div>
        <div class="smiley__icon">
            <img src="./images/smiley_icon.png" alt="" width="100">
        </div>

        <div class="box__letter">
            <div class="letter__border">
                <div class="close">
                    <i class="fa-solid fa-xmark"></i>
                </div>
                <div class="letter">
                    <div class="title__letter"></div>
                    <div class="content__letter">
                        <div class="left">
                            <img id="heart__letter" src="./images/heart_letter.png" alt="">
                            <img class="heart heart_1" style="--t: 0.2s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_2" style="--t: 0.4s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_3" style="--t: 0.6s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_4" style="--t: 0.8s" width="20" src="./images/heart.png" alt="">
                        </div>
                        <div class="right">
                            <div class="love__img">
                                <img width="220" src="./images/love.png" alt="">
                            </div>
                            <div class="text__letter">
                                <p></p>
                            </div>
                            <img id="mewmew" width="80" src="./images/mewmew.gif" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="boxMail">
            <i class="fa-solid fa-xmark"></i>
            <div class="boxMail-container">
                <div class="card1">
                    <div class="userImg">
                        <img src="images/unnamed.jpeg" alt="">
                    </div>
                    <h4 class="username">To: Puchki ðŸ’–</h4>
                    <h3>Happy Birthday</h3>
                    <div class="imageCute">
                        <img src="cute1.png" alt="" style="width: 50px;">
                    </div>
                </div>
                <div class="card2">
                    <div class="card2-content">
                        <h3>To You</h3>
                        <h2>Happy birthday ðŸ¥³ðŸŽ‚ðŸ¥³ Megha the day you come into my life I was not really much attached to
                            you but day by day you became close to my heart. I wish I could remove some of the pain from your 
                            life which you are bearing alone. But you're
                            always welcome ðŸ¤— you can talk anytime you want to talk specially those which you can't say
                            to others. And this year your all dreams come true. I am wishing you happy birthday
                            ðŸŽˆðŸŽ‚ðŸŽˆ Megha.
                        </h2>
                        <div class="imageCute2">
                            <img src="cute2.png" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- Music Logic ---
        const music = document.getElementById("bgMusic");
        const musicBtn = document.getElementById("musicBtn");
        const musicIcon = musicBtn.querySelector("i");

        function toggleMusic() {
            if (music.paused) {
                music.play().catch(e => console.log("Audio play failed, user interaction needed"));
                musicBtn.classList.add("playing");
                musicIcon.classList.remove("fa-music");
                musicIcon.classList.add("fa-pause");
            } else {
                music.pause();
                musicBtn.classList.remove("playing");
                musicIcon.classList.remove("fa-pause");
                musicIcon.classList.add("fa-music");
            }
        }

        musicBtn.addEventListener("click", toggleMusic);

        // --- Typing Animation Logic ---
        let datetxt = "20th February "; 
        let datatxtletter = "My love. You are a very special girl. I always silently thank you for coming into my life. Today, I wish you all the best, lots of health, and lots of joy. I always hope we will celebrate many more birthdays like this together. Happy birthday to you.ðŸ’•";
        let titleLetter = "To you";
        let charArrDate = datetxt.split('');
        let charArrDateLetter = datatxtletter.split('');
        let charArrTitle = titleLetter.split('');
        let currentIndex = 0;
        let currentIndexLetter = 0;
        let currentIndexTitle = 0;
        let date__of__birth = document.querySelector(".date__of__birth span");
        let text__letter = document.querySelector(".text__letter p");
        
        setTimeout(function () {
            timeDatetxt = setInterval(function () {
                if (currentIndex < charArrDate.length) {
                    date__of__birth.textContent += charArrDate[currentIndex];
                    currentIndex++;
                }
                else {
                    let i = document.createElement("i");
                    i.className = "fa-solid fa-star"
                    document.querySelector(".date__of__birth").prepend(i)
                    document.querySelector(".date__of__birth").appendChild(i.cloneNode(true))
                    clearInterval(timeDatetxt)
                }
            }, 100)
        }, 12000)

        var intervalContent;
        var intervalTitle;
        
        $("#btn__letter").on("click", function () {
            // Auto play music if not playing
            if(music.paused) { toggleMusic(); }

            $(".box__letter").slideDown()
            setTimeout(function () {
                $(".letter__border").slideDown();
            }, 1000)
            setTimeout(function () {
                intervalTitle = setInterval(function () {
                    if (currentIndexTitle < charArrTitle.length) {
                        document.querySelector(".title__letter").textContent += charArrTitle[currentIndexTitle];
                        let i = document.createElement("i");
                        i.className = "fa-solid fa-heart"
                        document.querySelector(".title__letter").appendChild(i)
                        currentIndexTitle++;
                    }
                    else {
                        clearInterval(intervalTitle)
                    }
                }, 100)
            }, 2000)
            setTimeout(function () {
                document.querySelector("#heart__letter").classList.add("animationOp");
                document.querySelector(".love__img").classList.add("animationOp");
                document.querySelector("#mewmew").classList.add("animationOp");
            }, 2800)
            setTimeout(function () {
                document.querySelectorAll(".heart").forEach((item) => {
                    item.classList.add("animation")
                })
            }, 3500)
            setTimeout(function () {
                intervalContent = setInterval(function () {
                    if (currentIndexLetter < charArrDateLetter.length) {
                        text__letter.textContent += charArrDateLetter[currentIndexLetter];
                        currentIndexLetter++;
                    }
                    else {
                        clearInterval(intervalContent)
                    }
                }, 50)
            }, 6000)
        })

        $(".close").on("click", function () {
            clearInterval(intervalContent)
            document.querySelector(".title__letter").textContent = "";
            text__letter.textContent = "";
            currentIndexLetter = 0
            currentIndexTitle = 0
            document.querySelector("#heart__letter").classList.remove("animationOp");
            document.querySelector(".love__img").classList.remove("animationOp");
            document.querySelector("#mewmew").classList.remove("animationOp");
            document.querySelectorAll(".heart").forEach((item) => {
                item.classList.remove("animation")
            })
            $(".box__letter").slideUp();
            $(".letter__border").slideUp();
        })

        // MailBox Logic
        let mailBox = document.querySelector('.mail') // This targets text inside button
        let btnLetter = document.getElementById('btn__letter'); // Actual button
        let boxmail = document.querySelector('.boxMail')
        let closeBox = document.querySelector('.boxMail .fa-xmark')
        
        // Note: The user had two popups logic (one for letter, one for mailbox). 
        // Based on your code, "btn__letter" opens "box__letter". 
        // But you also have "boxMail". 
        // I will bind the "Click Here Megha" button to the LETTER popup (as per your jquery).
        // If you want to open the 3D mailbox, we need a trigger. 
        // For now, I'll assume you want the mailbox to appear automatically or via a separate trigger?
        // Actually, looking at your original code, `mailBox` selector was `.mail` inside the button. 
        // But the jquery `$("#btn__letter").on("click"...` handles the letter.
        // I will add a click event to the "Dear Megha" text circle area to open the 3D mailbox as a hidden easter egg,
        // OR we can make the "Click Here" button open the mailbox instead if that was the plan.
        
        // Let's attach the 3D Mailbox to the Image Profile Click on the right
        document.querySelector('.box__account').addEventListener('click', function() {
             if(music.paused) { toggleMusic(); }
             boxmail.classList.add('active');
        });

        closeBox.addEventListener('click', function () {
            boxmail.classList.remove('active')
        })
    </script>
</body>
</html>